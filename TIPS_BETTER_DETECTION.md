# üí° –°–æ–≤–µ—Ç—ã –¥–ª—è –ª—É—á—à–µ–π –¥–µ—Ç–µ–∫—Ü–∏–∏

## üéØ –ö–∞–∫ —É–≤–µ–ª–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞–¥—Ä–æ–≤:

### –í–∞—Ä–∏–∞–Ω—Ç 1: Streamlit
```
1. –û—Ç–∫—Ä–æ–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
2. –£–≤–µ–ª–∏—á—å —Å–ª–∞–π–¥–µ—Ä "FPS" —Å 2.0 –¥–æ 5.0
3. –ó–∞–ø—É—Å—Ç–∏ –∞–Ω–∞–ª–∏–∑
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: CLI
```bash
PYTHONPATH=$PWD python3 examples/run_local_video_analysis.py \
    --video —Ç–≤–æ—ë_–≤–∏–¥–µ–æ.mp4 \
    --fps 5.0 \
    --analysis-method hybrid
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- FPS 2.0 ‚Üí ~50-100 –∫–∞–¥—Ä–æ–≤
- FPS 5.0 ‚Üí ~125-250 –∫–∞–¥—Ä–æ–≤
- –ë–æ–ª—å—à–µ –∫–∞–¥—Ä–æ–≤ = —Ç–æ—á–Ω–µ–µ –∞–Ω–∞–ª–∏–∑!

---

## ü¶µ –ü–æ—á–µ–º—É –Ω–æ–≥–∏ –Ω–µ –¥–µ—Ç–µ–∫—Ç–∏—Ä—É—é—Ç—Å—è?

### –ü—Ä–∏—á–∏–Ω—ã:
1. **–ù–æ–≥–∏ –ø–æ–¥ –≤–æ–¥–æ–π** - –º—É—Ç–Ω–∞—è –≤–æ–¥–∞, –±–ª–∏–∫–∏
2. **–ù–æ–≥–∏ –∑–∞ –∫–∞–¥—Ä–æ–º** - –∫–∞–º–µ—Ä–∞ —Å–Ω–∏–º–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤–µ—Ä—Ö–Ω—é—é —á–∞—Å—Ç—å
3. **–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ** - –Ω–æ–≥–∏ –≤—ã—Ç—è–Ω—É—Ç—ã –∏ —Å–ª–∏–≤–∞—é—Ç—Å—è —Å —Ñ–æ–Ω–æ–º
4. **–ù–∏–∑–∫–∞—è –≤–∏–¥–∏–º–æ—Å—Ç—å** - —Ç—ë–º–Ω–æ–µ –≤–∏–¥–µ–æ, —Ç–µ–Ω–∏

### –†–µ—à–µ–Ω–∏—è:

#### 1. –£–≤–µ–ª–∏—á—å FPS –¥–æ 5.0
```bash
--fps 5.0
```
–ë–æ–ª—å—à–µ –∫–∞–¥—Ä–æ–≤ = –±–æ–ª—å—à–µ —à–∞–Ω—Å–æ–≤ –ø–æ–π–º–∞—Ç—å –Ω–æ–≥–∏ –≤ —Ö–æ—Ä–æ—à–µ–º –ø–æ–ª–æ–∂–µ–Ω–∏–∏

#### 2. –ò—Å–ø–æ–ª—å–∑—É–π Hybrid –º–µ—Ç–æ–¥
```bash
--analysis-method hybrid
```
- Pose: –¥–µ—Ç–µ–∫—Ç–∏—Ä—É–µ—Ç –Ω–æ–≥–∏ –≥–¥–µ –≤–∏–¥–Ω–æ
- Trajectory: —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö –∫–∞–¥—Ä–∞—Ö

#### 3. –ü—Ä–æ–≤–µ—Ä—å visibility –≤ JSON
```bash
cat biomech_full_test/biomechanics/biomechanics.json | python3 -c "
import json, sys
data = json.load(sys.stdin)
for frame in data['frame_results'][:5]:
    if frame['has_pose']:
        kp = frame['keypoints']
        print(f\"Frame {frame['frame']}:\")
        for leg_part in ['left_knee', 'right_knee', 'left_ankle', 'right_ankle']:
            if leg_part in kp:
                print(f\"  {leg_part}: visibility={kp[leg_part]['visibility']:.2f}\")
"
```

**–ï—Å–ª–∏ visibility < 0.4:** –ù–æ–≥–∏ –Ω–µ –≤–∏–¥–Ω—ã –Ω–∞ –≤–∏–¥–µ–æ  
**–ï—Å–ª–∏ visibility > 0.4:** –ù–æ–≥–∏ –¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω—ã!

---

## üé® –ù–æ–≤–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–∫–µ–ª–µ—Ç–∞:

### –¶–≤–µ—Ç–∞ —á–∞—Å—Ç–µ–π —Ç–µ–ª–∞:
- üü£ **–ú–∞–≥–µ–Ω—Ç–∞** - –ì–æ–ª–æ–≤–∞ (–Ω–æ—Å, –≥–ª–∞–∑–∞, —É—à–∏)
- üü° **–ñ—ë–ª—Ç—ã–π** - –¢–æ—Ä—Å (–ø–ª–µ—á–∏, –±—ë–¥—Ä–∞)
- üîµ **–°–∏–Ω–∏–π** - –†—É–∫–∏ (–ª–æ–∫—Ç–∏, –∑–∞–ø—è—Å—Ç—å—è, –ø–∞–ª—å—Ü—ã)
- üü¢ **–ó–µ–ª—ë–Ω—ã–π** - –ù–æ–≥–∏ (–∫–æ–ª–µ–Ω–∏, –ª–æ–¥—ã–∂–∫–∏, —Å—Ç–æ–ø—ã)

### –¢–æ–ª—â–∏–Ω–∞ –ª–∏–Ω–∏–π:
- **–¢–æ—Ä—Å –∏ –Ω–æ–≥–∏:** 3 –ø–∏–∫—Å–µ–ª—è (—Ç–æ–ª—Å—Ç—ã–µ)
- **–†—É–∫–∏ –∏ –≥–æ–ª–æ–≤–∞:** 2 –ø–∏–∫—Å–µ–ª—è

### –†–∞–∑–º–µ—Ä —Ç–æ—á–µ–∫:
- **–¢–æ—Ä—Å (–ø–ª–µ—á–∏/–±—ë–¥—Ä–∞):** 6 –ø–∏–∫—Å–µ–ª–µ–π (—Å–∞–º—ã–µ –∫—Ä—É–ø–Ω—ã–µ)
- **–û—Å—Ç–∞–ª—å–Ω—ã–µ —Å—É—Å—Ç–∞–≤—ã:** 5 –ø–∏–∫—Å–µ–ª–µ–π

---

## üîç –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–µ—Ç–µ–∫—Ü–∏—é –Ω–æ–≥:

### –ü–æ—Å–º–æ—Ç—Ä–∏ –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –≤–∏–¥–µ–æ:
```bash
open ./biomech_full_test/biomechanics/pose_*.jpg
```

### –ü—Ä–æ–≤–µ—Ä—å –∑–µ–ª—ë–Ω—ã–µ –ª–∏–Ω–∏–∏:
- ‚úÖ –í–∏–¥–∏—à—å –∑–µ–ª—ë–Ω—ã–µ –ª–∏–Ω–∏–∏ –æ—Ç –±—ë–¥–µ—Ä –∫ –∫–æ–ª–µ–Ω—è–º ‚Üí –Ω–æ–≥–∏ –¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω—ã
- ‚ùå –¢–æ–ª—å–∫–æ –∂—ë–ª—Ç—ã–π —Ç–æ—Ä—Å –±–µ–∑ –∑–µ–ª—ë–Ω—ã—Ö –Ω–æ–≥ ‚Üí –Ω–æ–≥–∏ –Ω–µ –≤ –∫–∞–¥—Ä–µ

---

## üí™ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ª—É—á—à–µ–≥–æ –≤–∏–¥–µ–æ:

### –ò–¥–µ–∞–ª—å–Ω–∞—è —Å—ä—ë–º–∫–∞:
1. **–ö–∞–º–µ—Ä–∞ —Å–±–æ–∫—É** - –≤–∏–¥–Ω–æ –≤—Å—ë —Ç–µ–ª–æ —Ü–µ–ª–∏–∫–æ–º
2. **–í—ã—Å–æ—Ç–∞ –∫–∞–º–µ—Ä—ã** - –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø–æ—è—Å–∞ –ø–ª–æ–≤—Ü–∞
3. **–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ** - 3-5 –º–µ—Ç—Ä–æ–≤ –æ—Ç –±–∞—Å—Å–µ–π–Ω–∞
4. **–û—Å–≤–µ—â–µ–Ω–∏–µ** - —è—Ä–∫–æ–µ, –±–µ–∑ –±–ª–∏–∫–æ–≤ –Ω–∞ –≤–æ–¥–µ
5. **–£–≥–æ–ª** - —á—É—Ç—å —Å–≤–µ—Ä—Ö—É (15-30 –≥—Ä–∞–¥—É—Å–æ–≤)

### –ü–ª–æ—Ö–∞—è —Å—ä—ë–º–∫–∞:
- ‚ùå –°–≤–µ—Ä—Ö—É (—Ç–æ–ª—å–∫–æ —Å–ø–∏–Ω–∞)
- ‚ùå –°–ª–∏—à–∫–æ–º –±–ª–∏–∑–∫–æ (–Ω–æ–≥–∏ –∑–∞ –∫–∞–¥—Ä–æ–º)
- ‚ùå –¢—ë–º–Ω–æ–µ –≤–∏–¥–µ–æ
- ‚ùå –ü–æ–¥–≤–æ–¥–Ω–∞—è –∫–∞–º–µ—Ä–∞ —Å –º—É—Ç–Ω–æ–π –≤–æ–¥–æ–π

---

## üß™ –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç - –Ω–∞–π–¥–∏ –ª—É—á—à–∏–π FPS:

```bash
# –¢–µ—Å—Ç 1: FPS 2.0
PYTHONPATH=$PWD python3 examples/run_local_video_analysis.py \
    --video –≤–∏–¥–µ–æ.mp4 --fps 2.0 --output ./test_fps2

# –¢–µ—Å—Ç 2: FPS 3.0
PYTHONPATH=$PWD python3 examples/run_local_video_analysis.py \
    --video –≤–∏–¥–µ–æ.mp4 --fps 3.0 --output ./test_fps3

# –¢–µ—Å—Ç 3: FPS 5.0
PYTHONPATH=$PWD python3 examples/run_local_video_analysis.py \
    --video –≤–∏–¥–µ–æ.mp4 --fps 5.0 --output ./test_fps5

# –°—Ä–∞–≤–Ω–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
cat test_fps*/biomechanics/biomechanics.json | python3 -c "
import json, sys
for line in sys.stdin:
    try:
        data = json.loads(line)
        avg = data['average_metrics']
        print(f\"Frames with pose: {avg['frames_with_pose']}/{avg['total_frames']}\")
    except: pass
"
```

---

## üìä –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:

| FPS | –ö–∞–¥—Ä–æ–≤ | –î–µ—Ç–µ–∫—Ü–∏—è | –°–∫–æ—Ä–æ—Å—Ç—å |
|-----|--------|----------|----------|
| 2.0 | ~50 | 10-20% | –ë—ã—Å—Ç—Ä–æ |
| 3.0 | ~75 | 15-25% | –°—Ä–µ–¥–Ω–µ |
| 5.0 | ~125 | 20-35% | –ú–µ–¥–ª–µ–Ω–Ω–æ |

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** FPS 3.0-4.0 (–±–∞–ª–∞–Ω—Å —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ –∫–∞—á–µ—Å—Ç–≤–∞)

---

## üéØ –ò—Ç–æ–≥–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞ (–ª—É—á—à–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏):

```bash
cd /Users/nikita/Downloads/Sprint-Bot-main

PYTHONPATH=$PWD python3 examples/run_local_video_analysis.py \
    --video test_videos/IMG_8410.MOV \
    --output ./best_analysis \
    --athlete "–¢–µ—Å—Ç" \
    --analysis-method hybrid \
    --fps 4.0 \
    --pool-length 25
```

**–ò–ª–∏ Streamlit:**
```bash
python3 -m streamlit run app.py
# –ù–∞—Å—Ç—Ä–æ–π–∫–∏: FPS=4.0, Method=Hybrid
```

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å —É —Ç–µ–±—è:
- ‚úÖ –¶–≤–µ—Ç–Ω–æ–π —Å–∫–µ–ª–µ—Ç (–≥–æ–ª–æ–≤–∞/—Ç–æ—Ä—Å/—Ä—É–∫–∏/–Ω–æ–≥–∏)
- ‚úÖ –õ–µ–≥–µ–Ω–¥–∞ —Ü–≤–µ—Ç–æ–≤ –Ω–∞ –≤–∏–¥–µ–æ
- ‚úÖ –ë–æ–ª—å—à–µ –∫–∞–¥—Ä–æ–≤ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
- ‚úÖ –õ—É—á—à–∞—è –¥–µ—Ç–µ–∫—Ü–∏—è –≤—Å–µ—Ö —á–∞—Å—Ç–µ–π —Ç–µ–ª–∞

**–ó–∞–ø—É—Å–∫–∞–π –∏ —Å–º–æ—Ç—Ä–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç!** üöÄ
