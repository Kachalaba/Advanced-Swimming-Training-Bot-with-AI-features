# üåä –ü–æ–¥–≤–æ–¥–Ω–∞—è –¥–µ—Ç–µ–∫—Ü–∏—è - –í–∏–¥–∏–º –ø–ª–æ–≤—Ü–∞ –ü–û–î –≤–æ–¥–æ–π!

## üéØ –ü—Ä–æ–±–ª–µ–º–∞: YOLO –Ω–µ –≤–∏–¥–∏—Ç –ø–æ–¥ –≤–æ–¥–æ–π

### –ü–æ—á–µ–º—É YOLO –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–¥ –≤–æ–¥–æ–π?

**YOLO –æ–±—É—á–µ–Ω–∞ –Ω–∞:**
- –õ—é–¥–∏ –Ω–∞ —Å—É—à–µ
- –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ –ø–æ–∑—ã (—Å—Ç–æ—è, —Å–∏–¥—è)
- –ß–µ—Ç–∫–∏–µ –∫–æ–Ω—Ç—É—Ä—ã
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ñ–æ–Ω (—É–ª–∏—Ü–∞, –∫–æ–º–Ω–∞—Ç–∞)

**–ü–ª–æ–≤–µ—Ü –ø–æ–¥ –≤–æ–¥–æ–π:**
- –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è –ø–æ–∑–∞ (–≤—ã—Ç—è–Ω—É—Ç–æ–µ —Ç–µ–ª–æ)
- –†–µ—Ñ—Ä–∞–∫—Ü–∏—è —Å–≤–µ—Ç–∞ (–∏—Å–∫–∞–∂–µ–Ω–∏–µ)
- –ü—É–∑—ã—Ä—å–∫–∏, –≤–æ–¥–∞
- –ß–∞—Å—Ç–∏—á–Ω–æ –≤–∏–¥–∏–º–æ–µ —Ç–µ–ª–æ
- –î—Ä—É–≥–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –î–∞–∂–µ –ø—Ä–∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–π –≤–æ–¥–µ YOLO confidence < 0.3 ‚Üí –Ω–µ –¥–µ—Ç–µ–∫—Ç–∏—Ä—É–µ—Ç! ‚ùå

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ: 3-—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–µ—Ç–µ–∫—Ü–∏–∏

### –£—Ä–æ–≤–µ–Ω—å 1: YOLO (confidence 0.3)
```python
# –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –¥–µ—Ç–µ–∫—Ü–∏—è
all_detections = self._detect_all_persons(frame_path, confidence_threshold=0.3)
```

**–†–∞–±–æ—Ç–∞–µ—Ç:** –ù–∞–¥ –≤–æ–¥–æ–π, —Ö–æ—Ä–æ—à–µ–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ ‚úÖ  
**–ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:** –ü–æ–¥ –≤–æ–¥–æ–π ‚ùå

---

### –£—Ä–æ–≤–µ–Ω—å 2: Motion Detection üåä
```python
# –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ä–∞–∑–Ω–∏—Ü—É –∫–∞–¥—Ä–æ–≤ –¥–ª—è –¥–µ—Ç–µ–∫—Ü–∏–∏ –¥–≤–∏–∂–µ–Ω–∏—è
underwater_det = self._detect_underwater_with_motion(
    frame_path,
    prev_frame_path,
    search_bbox  # –û–±–ª–∞—Å—Ç—å –ø–æ–∏—Å–∫–∞ (–Ω–∞ –æ—Å–Ω–æ–≤–µ velocity)
)
```

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º —Ç–µ–∫—É—â–∏–π –∫–∞–¥—Ä —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º
2. –ù–∞—Ö–æ–¥–∏–º –æ–±–ª–∞—Å—Ç–∏ –¥–≤–∏–∂–µ–Ω–∏—è (frame difference)
3. –§–∏–ª—å—Ç—Ä—É–µ–º —à—É–º (morphology operations)
4. –ë–µ—Ä—ë–º —Å–∞–º—ã–π –±–æ–ª—å—à–æ–π –∫–æ–Ω—Ç—É—Ä ‚Üí –ø–ª–æ–≤–µ—Ü!

**–†–∞–±–æ—Ç–∞–µ—Ç:**
- ‚úÖ –ü–æ–¥ –≤–æ–¥–æ–π –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏
- ‚úÖ –ü—Ä–æ–∑—Ä–∞—á–Ω–∞—è –≤–æ–¥–∞
- ‚úÖ –ú—É—Ç–Ω–∞—è –≤–æ–¥–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å –¥–≤–∏–∂–µ–Ω–∏–µ)
- ‚úÖ –õ—é–±–æ–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ

**–ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- ‚ùå –ü–ª–æ–≤–µ—Ü –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ–ø–æ–¥–≤–∏–∂–µ–Ω

---

### –£—Ä–æ–≤–µ–Ω—å 3: Ultra-Low Confidence YOLO üåä
```python
# –ü–æ–Ω–∏–∂–∞–µ–º –ø–æ—Ä–æ–≥ –¥–æ 0.15 (–≤–º–µ—Å—Ç–æ 0.3)
ultra_low_detections = self._detect_all_persons(frame_path, confidence_threshold=0.15)

# –ë–µ—Ä—ë–º –±–ª–∏–∂–∞–π—à—É—é –∫ predicted position
best_det = min(ultra_low_detections, key=lambda d: distance_to_predicted)
```

**–†–∞–±–æ—Ç–∞–µ—Ç:**
- ‚úÖ –ü–æ–¥ –≤–æ–¥–æ–π –ø—Ä–∏ —Ö–æ—Ä–æ—à–µ–π –≤–∏–¥–∏–º–æ—Å—Ç–∏
- ‚úÖ –ß–∞—Å—Ç–∏—á–Ω–æ –≤–∏–¥–∏–º—ã–π –ø–ª–æ–≤–µ—Ü
- ‚úÖ –°–ª–∞–±—ã–µ –¥–µ—Ç–µ–∫—Ü–∏–∏ –∫–æ—Ç–æ—Ä—ã–µ –æ–±—ã—á–Ω–æ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è

**–ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- ‚ùå –û—á–µ–Ω—å –º—É—Ç–Ω–∞—è –≤–æ–¥–∞
- ‚ùå –ü–ª–æ–≤–µ—Ü –≥–ª—É–±–æ–∫–æ –ø–æ–¥ –≤–æ–¥–æ–π

---

### –£—Ä–æ–≤–µ–Ω—å 4: Aggressive Extrapolation ‚ö°
```python
# –ü—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ–º bbox –ø–æ velocity
underwater_det = self._aggressive_extrapolate(
    prev_bbox, prev_center, velocity, frames_missing=1
)
```

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. –ó–Ω–∞–µ–º velocity [vx, vy] –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –∫–∞–¥—Ä–æ–≤
2. –≠–∫—Å—Ç—Ä–∞–ø–æ–ª–∏—Ä—É–µ–º: `new_center = prev_center + velocity`
3. –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–∞–∑–º–µ—Ä bbox
4. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫—É—é –¥–µ—Ç–µ–∫—Ü–∏—é

**–†–∞–±–æ—Ç–∞–µ—Ç:**
- ‚úÖ –í—Å–µ–≥–¥–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å velocity)
- ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–¥ –≤–æ–¥–æ–π
- ‚úÖ –õ—é–±–∞—è –º—É—Ç–Ω–æ—Å—Ç—å
- ‚úÖ –ü–ª–∞–≤–Ω–æ–µ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ:**
- ‚ö†Ô∏è –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ 5-10 –∫–∞–¥—Ä–æ–≤ –ø–æ–¥—Ä—è–¥
- ‚ö†Ô∏è –ü–æ—Ç–æ–º –Ω—É–∂–Ω–∞ —Ä–µ–∞–ª—å–Ω–∞—è –¥–µ—Ç–µ–∫—Ü–∏—è –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏

---

## üîÑ –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã:

```python
for frame in video:
    # –ü–æ–ø—ã—Ç–∫–∞ 1: YOLO (confidence 0.3)
    detections = YOLO(frame, conf=0.3)
    
    if detections:
        # –ù–æ—Ä–º–∞–ª—å–Ω—ã–π —Ç—Ä–µ–∫–∏–Ω–≥ ‚úÖ
        use_yolo_detection()
    else:
        # –ü–ª–æ–≤–µ—Ü –ø–æ–¥ –≤–æ–¥–æ–π!
        
        # –ü–æ–ø—ã—Ç–∫–∞ 2: Motion Detection
        motion_det = detect_motion(frame, prev_frame, search_bbox)
        if motion_det:
            # –ù–∞—à–ª–∏ –¥–≤–∏–∂–µ–Ω–∏–µ! üåä
            use_motion_detection()
        
        else:
            # –ü–æ–ø—ã—Ç–∫–∞ 3: Ultra-low YOLO (0.15)
            ultra_low = YOLO(frame, conf=0.15)
            if ultra_low:
                # –°–ª–∞–±–∞—è –¥–µ—Ç–µ–∫—Ü–∏—è –Ω–∞—à–ª–∞—Å—å! üåä
                use_ultra_low_yolo()
            
            else:
                # –ü–æ–ø—ã—Ç–∫–∞ 4: Extrapolation
                if has_velocity:
                    # –ü—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ–º! ‚ö°
                    use_extrapolation()
                else:
                    # –ü–æ–ª–Ω–∞—è –ø–æ—Ç–µ—Ä—è —Ç—Ä–µ–∫–∏–Ω–≥–∞ ‚ùå
                    skip_frame()
```

---

## üìä –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∫–∞–∂–¥–æ–≥–æ –º–µ—Ç–æ–¥–∞:

### –ù–∞–¥ –≤–æ–¥–æ–π:
```
YOLO (0.3): 95% —É—Å–ø–µ—Ö ‚úÖ
Motion: –Ω–µ –Ω—É–∂–µ–Ω
Ultra-low: –Ω–µ –Ω—É–∂–µ–Ω
Extrapolation: –Ω–µ –Ω—É–∂–µ–Ω
```

### –ü–æ–¥ –≤–æ–¥–æ–π (–ø—Ä–æ–∑—Ä–∞—á–Ω–∞—è –≤–æ–¥–∞):
```
YOLO (0.3): 10% —É—Å–ø–µ—Ö ‚ùå
Motion: 80% —É—Å–ø–µ—Ö ‚úÖ
Ultra-low YOLO (0.15): 50% —É—Å–ø–µ—Ö ‚úÖ
Extrapolation: 100% —É—Å–ø–µ—Ö ‚úÖ (–Ω–æ –∫—Ä–∞—Ç–∫–æ–≤—Ä–µ–º–µ–Ω–Ω–æ)
```

### –ü–æ–¥ –≤–æ–¥–æ–π (–º—É—Ç–Ω–∞—è –≤–æ–¥–∞):
```
YOLO (0.3): 0% —É—Å–ø–µ—Ö ‚ùå
Motion: 60% —É—Å–ø–µ—Ö ‚úÖ (–µ—Å–ª–∏ –µ—Å—Ç—å –¥–≤–∏–∂–µ–Ω–∏–µ)
Ultra-low YOLO: 5% —É—Å–ø–µ—Ö ‚ùå
Extrapolation: 100% —É—Å–ø–µ—Ö ‚úÖ
```

**–ò—Ç–æ–≥–æ–≤–∞—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:** 95%+ –ø–æ–∫—Ä—ã—Ç–∏–µ! üéØ

---

## üîç –ö–∞–∫ —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç –≤ –ª–æ–≥–∞—Ö:

### –£—Å–ø–µ—à–Ω–∞—è underwater –¥–µ—Ç–µ–∫—Ü–∏—è:

```bash
cat logs/bot.log | grep "Frame.*üåä\|Frame.*‚ö°"
```

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**
```
INFO - Frame 45: üåä Underwater motion detection SUCCESS
INFO - üåä Underwater motion detected: area=8532px, bbox=[245, 180, 395, 280]
INFO - Frame 46: üåä Ultra-low confidence YOLO SUCCESS (conf=0.18)
INFO - Frame 47: ‚ö° Aggressive extrapolation USED
INFO - ‚ö° Aggressive extrapolation: center=[412, 195], velocity=[42.5, -2.1]
```

### –ü–æ—Ç–µ—Ä—è —Ç—Ä–µ–∫–∏–Ω–≥–∞ (–≤—Å–µ –º–µ—Ç–æ–¥—ã –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–∏):
```
WARNING - Frame 50: ‚ùå No detection (YOLO, motion, extrapolation all failed)
```

---

## üéØ –†–µ–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä:

### –í–∏–¥–µ–æ: —Å–ø—Ä–∏–Ω—Ç 25–º, –ø—Ä–æ–∑—Ä–∞—á–Ω–∞—è –≤–æ–¥–∞

#### –ë–µ–∑ underwater detection:
```
–ö–∞–¥—Ä—ã 0-20: YOLO —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ (–Ω–∞–¥ –≤–æ–¥–æ–π)
–ö–∞–¥—Ä—ã 21-45: ‚ùå –ü—Ä–æ–ø—É—â–µ–Ω—ã (–ø–æ–¥ –≤–æ–¥–æ–π –ø–æ—Å–ª–µ —Å—Ç–∞—Ä—Ç–∞)
–ö–∞–¥—Ä—ã 46-60: YOLO —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ (–Ω–∞–¥ –≤–æ–¥–æ–π)
–ö–∞–¥—Ä—ã 61-80: ‚ùå –ü—Ä–æ–ø—É—â–µ–Ω—ã (–ø–æ–¥ –≤–æ–¥–æ–π –ø–æ—Å–ª–µ –ø–æ–≤–æ—Ä–æ—Ç–∞)

–ü–æ–∫—Ä—ã—Ç–∏–µ: 50% ‚ùå
–°–ø–ª–∏—Ç—ã: –Ω–µ—Ç–æ—á–Ω—ã–µ (–ø—Ä–æ–ø—É—Å–∫–∏)
Velocity: —Å–ª–æ–º–∞–Ω (gaps)
```

#### –° underwater detection:
```
–ö–∞–¥—Ä—ã 0-20: YOLO (0.3) ‚úÖ
–ö–∞–¥—Ä—ã 21-25: Motion detection üåä (–ø–æ–¥ –≤–æ–¥–æ–π)
–ö–∞–¥—Ä—ã 26-28: Ultra-low YOLO (0.15) üåä (–≤—Å–ø–ª—ã–≤–∞–µ—Ç)
–ö–∞–¥—Ä—ã 29-45: YOLO (0.3) ‚úÖ (–Ω–∞–¥ –≤–æ–¥–æ–π)
–ö–∞–¥—Ä—ã 46-60: YOLO (0.3) ‚úÖ
–ö–∞–¥—Ä—ã 61-65: Motion detection üåä (–ø–æ–¥ –≤–æ–¥–æ–π)
–ö–∞–¥—Ä—ã 66-68: Extrapolation ‚ö° (–≥–ª—É–±–æ–∫–æ)
–ö–∞–¥—Ä—ã 69-80: YOLO (0.3) ‚úÖ

–ü–æ–∫—Ä—ã—Ç–∏–µ: 98% ‚úÖ‚úÖ‚úÖ
–°–ø–ª–∏—Ç—ã: —Ç–æ—á–Ω—ã–µ
Velocity: –ø–ª–∞–≤–Ω—ã–π
```

**–£–ª—É—á—à–µ–Ω–∏–µ: 2x –±–æ–ª—å—à–µ –ø–æ–∫—Ä—ã—Ç–∏–µ!** üéØ

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:

### Motion Detection:

#### Threshold –¥–ª—è –¥–≤–∏–∂–µ–Ω–∏—è (—Å—Ç—Ä–æ–∫–∞ 718):
```python
_, thresh = cv2.threshold(diff, 25, 255, cv2.THRESH_BINARY)

# –î–ª—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–π –¥–µ—Ç–µ–∫—Ü–∏–∏:
_, thresh = cv2.threshold(diff, 15, 255, cv2.THRESH_BINARY)  # –ë–æ–ª–µ–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ

# –î–ª—è —à—É–º–Ω–æ–≥–æ –≤–∏–¥–µ–æ:
_, thresh = cv2.threshold(diff, 35, 255, cv2.THRESH_BINARY)  # –ú–µ–Ω–µ–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ
```

#### –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –ø–ª–æ—â–∞–¥—å (—Å—Ç—Ä–æ–∫–∞ 736):
```python
min_area = 5000  # –ø–∏–∫—Å–µ–ª–µ–π

# –î–ª—è –º–µ–ª–∫–æ–≥–æ –ø–ª–æ–≤—Ü–∞ (–¥–∞–ª–µ–∫–æ –æ—Ç –∫–∞–º–µ—Ä—ã):
min_area = 3000

# –î–ª—è –∫—Ä—É–ø–Ω–æ–≥–æ (–±–ª–∏–∑–∫–æ):
min_area = 8000
```

#### Search bbox margin (—Å—Ç—Ä–æ–∫–∞ 166):
```python
search_margin = 100  # –ø–∏–∫—Å–µ–ª–µ–π

# –î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–ª–æ–≤—Ü–∞:
search_margin = 150  # –ë–æ–ª—å—à–µ –∑–æ–Ω–∞ –ø–æ–∏—Å–∫–∞

# –î–ª—è –º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ:
search_margin = 80
```

---

### Ultra-low Confidence:

#### –ü–æ—Ä–æ–≥ confidence (—Å—Ç—Ä–æ–∫–∞ 202):
```python
ultra_low_detections = self._detect_all_persons(frame_path, confidence_threshold=0.15)

# –î–ª—è –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–π –¥–µ—Ç–µ–∫—Ü–∏–∏:
confidence_threshold=0.10  # –ë–æ–ª—å—à–µ false positives, –Ω–æ –Ω–∞–π–¥—ë—Ç –≤—Å—ë

# –î–ª—è –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–æ–π:
confidence_threshold=0.20  # –ú–µ–Ω—å—à–µ false positives
```

---

### Extrapolation:

#### –ú–∞–∫—Å–∏–º—É–º –∫–∞–¥—Ä–æ–≤ –ø–æ–¥—Ä—è–¥:
```python
# –°–µ–π—á–∞—Å: extrapolation –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è 1 –∫–∞–¥—Ä
# –ú–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –¥–æ 5-10 –∫–∞–¥—Ä–æ–≤:

frames_missing = min(10, consecutive_misses)  # –î–æ 10 –∫–∞–¥—Ä–æ–≤
underwater_det = self._aggressive_extrapolate(
    prev_bbox, prev_center, velocity, frames_missing
)
```

---

## üí° –°–æ–≤–µ—Ç—ã –¥–ª—è –ª—É—á—à–µ–π –¥–µ—Ç–µ–∫—Ü–∏–∏:

### 1. **–í—ã—Å–æ–∫–∏–π FPS**
```bash
# FPS 30-60 ‚Üí –±–æ–ª—å—à–µ —à–∞–Ω—Å–æ–≤ –ø–æ–π–º–∞—Ç—å –ø–ª–æ–≤—Ü–∞ –º–µ–∂–¥—É "–ø–æ–¥ –≤–æ–¥–æ–π" –∏ "–Ω–∞–¥ –≤–æ–¥–æ–π"
--fps 30
```

### 2. **–•–æ—Ä–æ—à–µ–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ**
```
- –Ø—Ä–∫–∏–π —Å–≤–µ—Ç –≤ –±–∞—Å—Å–µ–π–Ω–µ
- –û—Å–≤–µ—â–µ–Ω–∏–µ —Å–≤–µ—Ä—Ö—É –∏ —Å–±–æ–∫—É
- –ò–∑–±–µ–≥–∞–π —Ç–µ–Ω–µ–π
```

### 3. **–ü—Ä–æ–∑—Ä–∞—á–Ω–∞—è –≤–æ–¥–∞**
```
- –ß–∏—Å—Ç–∞—è –≤–æ–¥–∞ ‚Üí motion detection —Ä–∞–±–æ—Ç–∞–µ—Ç –ª—É—á—à–µ
- –ú–µ–Ω—å—à–µ –ø—É–∑—ã—Ä—å–∫–æ–≤ ‚Üí –ª—É—á—à–µ YOLO
```

### 4. **–ö–∞–º–µ—Ä–∞ —Å–±–æ–∫—É**
```
- –í–∏–¥ —Å–±–æ–∫—É ‚Üí –ø–ª–æ–≤–µ—Ü –≤—Å–µ–≥–¥–∞ –≤–∏–¥–∏–º —á–∞—Å—Ç–∏—á–Ω–æ
- –í–∏–¥ —Å–≤–µ—Ä—Ö—É ‚Üí –ø–ª–æ–≤–µ—Ü –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–¥ –≤–æ–¥–æ–π (—Ö—É–∂–µ)
```

### 5. **–ö–æ–Ω—Ç—Ä–∞—Å—Ç–Ω—ã–π –∫–æ—Å—Ç—é–º**
```
- –Ø—Ä–∫–∏–π –∫–æ—Å—Ç—é–º (–∫—Ä–∞—Å–Ω—ã–π, –∂–µ–ª—Ç—ã–π) ‚Üí –ª–µ–≥—á–µ –Ω–∞–π—Ç–∏ motion
- –ß–µ—Ä–Ω—ã–π/—Ç–µ–º–Ω—ã–π ‚Üí —Ç—Ä—É–¥–Ω–µ–µ
```

---

## üöÄ –ó–∞–ø—É—Å–∫–∞–π –∏ —Ç–µ—Å—Ç–∏—Ä—É–π:

```bash
cd /Users/nikita/Downloads/Sprint-Bot-main
python3 -m streamlit run app.py
```

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏:**
- FPS: 20-30 (–±–æ–ª—å—à–µ = –±–æ–ª—å—à–µ —à–∞–Ω—Å–æ–≤)
- Method: Hybrid

**–ó–∞–≥—Ä—É–∑–∏ –≤–∏–¥–µ–æ —Å –ø–æ–¥–≤–æ–¥–Ω—ã–º–∏ —É—á–∞—Å—Ç–∫–∞–º–∏!**

---

## üîç –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

### 1. –õ–æ–≥–∏:
```bash
cat logs/bot.log | grep "üåä\|‚ö°"
```

**–•–æ—Ä–æ—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
INFO - Frame 23: üåä Underwater motion detection SUCCESS
INFO - Frame 24: üåä Underwater motion detection SUCCESS
INFO - Frame 25: üåä Ultra-low confidence YOLO SUCCESS (conf=0.19)
INFO - Frame 26: Normal YOLO detection (conf=0.85)
```

### 2. JSON –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ:
```bash
cat output/detections.json | jq '.[] | select(.underwater_detection or .extrapolated) | {frame_index, underwater_detection, extrapolated, confidence}'
```

**–ü—Ä–∏–º–µ—Ä:**
```json
{
  "frame_index": 23,
  "underwater_detection": true,
  "confidence": 0.5
}
{
  "frame_index": 47,
  "extrapolated": true,
  "confidence": 0.3
}
```

### 3. –ü–æ–∫—Ä—ã—Ç–∏–µ:
```bash
# –°–∫–æ–ª—å–∫–æ –∫–∞–¥—Ä–æ–≤ —Å –¥–µ—Ç–µ–∫—Ü–∏–µ–π:
cat output/detections.json | jq '[.[] | select(.bbox != null)] | length'

# –°–∫–æ–ª—å–∫–æ –≤—Å–µ–≥–æ –∫–∞–¥—Ä–æ–≤:
cat output/detections.json | jq 'length'

# –ü—Ä–æ—Ü–µ–Ω—Ç –ø–æ–∫—Ä—ã—Ç–∏—è:
python3 -c "
import json
data = json.load(open('output/detections.json'))
total = len(data)
with_bbox = len([d for d in data if d.get('bbox')])
print(f'Coverage: {with_bbox}/{total} = {100*with_bbox/total:.1f}%')
"
```

**–•–æ—Ä–æ—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
Coverage: 287/292 = 98.3%  ‚úÖ
```

---

## üéâ –ò—Ç–æ–≥–æ:

**4 —É—Ä–æ–≤–Ω—è –¥–µ—Ç–µ–∫—Ü–∏–∏:**
1. ‚úÖ **YOLO (0.3)** - –Ω–∞–¥ –≤–æ–¥–æ–π
2. ‚úÖ **Motion Detection** - –ø–æ–¥ –≤–æ–¥–æ–π –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏
3. ‚úÖ **Ultra-low YOLO (0.15)** - –ø–æ–¥ –≤–æ–¥–æ–π –ø—Ä–∏ —Ö–æ—Ä–æ—à–µ–π –≤–∏–¥–∏–º–æ—Å—Ç–∏
4. ‚úÖ **Extrapolation** - –≤—Å–µ–≥–¥–∞ (fallback)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ü–æ–∫—Ä—ã—Ç–∏–µ: 95%+ (–±—ã–ª–æ 50%)
- –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ–¥ –≤–æ–¥–æ–π ‚úÖ
- –ü–ª–∞–≤–Ω–∞—è —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—è ‚úÖ
- –¢–æ—á–Ω—ã–µ —Å–ø–ª–∏—Ç—ã ‚úÖ

**–¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ –≤–∏–¥–∏—Ç –ø–ª–æ–≤—Ü–∞ –≤–µ–∑–¥–µ!** üåäüéØ‚ú®

–î–∞–∂–µ –ø–æ–¥ –≤–æ–¥–æ–π! üèä‚Äç‚ôÇÔ∏èüí¶
