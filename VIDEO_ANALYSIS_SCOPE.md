# Видеоанализ — новый продуктовый фокус

Мы убираем все, кроме видеоаналитики. Цель: загрузка mp4 локально → реальное время определяем технику → выдаём аннотированные кадры, сплиты и рекомендации.

## Обязательные функции

- Локальный приём mp4 (файловая система, CLI), без Telegram и внешнего API.
- Детекция продольной/поперечной оси тела, контроль угла головы.
- Сплит-таймы по всей дистанции: реакция старта, повороты, финиш + кривая скорости.
- Ключевые точки тела (голова, плечи, таз, колени, стопы, кисти) с биомеханической разметкой на кадрах.
- Анализ ударов ногами и циклов: сколько ударов/циклов, скорость и продвижение за удар/цикл.
- Траектория гребков и подсказки по корректировке.
- Вывод: аннотированные кадры, график скорости, таблица сплитов, PDF/PNG.

## Пользовательский сценарий

1. Тренер запускает локальный скрипт и передаёт путь к mp4.
2. Скрипт пишет логи прогресса и сохраняет промежуточные артефакты в рабочей директории.
3. По завершении сохраняются:
   - кадры с осями тела, ключевыми точками и траекторией рук;
   - таблица сплитов и время реакции старта/поворотов;
   - график скорости;
   - метрики ударов ногами/циклов и рекомендации.

## Технические акценты

- YOLO/pose для детекции пловца и ключевых точек.
- Построение осей и углов в `SwimmerDetector` с сохранением координат для отчётов.
- Поиск касаний стенки и пиков скорости в `SplitAnalyzer`.
- Подсчёт ударов/циклов и расстояния за них поверх трека ключевых точек.
- Отчёт в `ReportGenerator`: кадры + графики + текстовые подсказки.

## Критерии готовности

- mp4 обрабатывается end-to-end локальным скриптом без Telegram.
- В отчёте есть оси тела, сплиты, кривая скорости, удары/циклы и траектория гребков.
- Аннотированные кадры соответствуют реальным позициям пловца на видео.
